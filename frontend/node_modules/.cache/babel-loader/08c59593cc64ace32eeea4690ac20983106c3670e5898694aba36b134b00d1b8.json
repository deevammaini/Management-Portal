{"ast":null,"code":"import _objectSpread from\"C:/Users/YSXP/Desktop/New folder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Users,Plus,Edit,Trash2,Search,Filter,Save,X,UserPlus,Building,Mail,Phone,MapPin,Calendar,ChevronDown,ChevronRight,Crown,Shield,User,MoreHorizontal,Eye,Settings,ArrowUpDown}from'lucide-react';import{apiCall}from'../utils/api';import'./OrganizationChart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrganizationStructureView=_ref=>{var _employees$find;let{showNotification}=_ref;const[loading,setLoading]=useState(false);const[employees,setEmployees]=useState([]);const[departments,setDepartments]=useState([]);const[analytics,setAnalytics]=useState({});const[showAddEmployee,setShowAddEmployee]=useState(false);const[showAddDepartment,setShowAddDepartment]=useState(false);const[editingEmployee,setEditingEmployee]=useState(null);const[editingDepartment,setEditingDepartment]=useState(null);const[showManagerForm,setShowManagerForm]=useState(false);const[isCreatingManager,setIsCreatingManager]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[departmentFilter,setDepartmentFilter]=useState('all');const[expandedNodes,setExpandedNodes]=useState(new Set());const[viewMode,setViewMode]=useState('chart');// tree, list, chart\nconst[showEmployeeDetail,setShowEmployeeDetail]=useState(false);const[selectedEmployee,setSelectedEmployee]=useState(null);// Form states\nconst[employeeForm,setEmployeeForm]=useState({name:'',email:'',phone:'',position:'',department:'',manager:'',employeeId:'',hireDate:'',salary:'',address:'',emergencyContact:'',skills:[],status:'active'});const[departmentForm,setDepartmentForm]=useState({name:'',description:'',head:'',budget:'',location:'',establishedDate:''});const[managerForm,setManagerForm]=useState({name:'',email:'',phone:'',position:'',department:'',manager:'',employeeId:'',hireDate:'',salary:'',address:'',emergencyContact:'',skills:[],status:'active'});useEffect(()=>{loadOrganizationData();},[]);useEffect(()=>{// Auto-expand CEO by default when employees are loaded\nif(employees.length>0){const ceo=employees.find(emp=>emp.position&&(emp.position.toLowerCase().includes('ceo')||emp.position.toLowerCase().includes('chief executive officer')||emp.position.toLowerCase().includes('president')||emp.name==='Harpreet Singh'));if(ceo){setExpandedNodes(prev=>new Set([...prev,ceo.id]));}}},[employees]);const loadOrganizationData=async()=>{try{setLoading(true);// Fetch real data from API\nconst[employeesData,departmentsData,statsData]=await Promise.all([apiCall('/api/admin/employees'),apiCall('/api/admin/departments'),apiCall('/api/admin/organization-stats')]);setEmployees(employeesData);setDepartments(departmentsData);// Update analytics with real data\nsetAnalytics(statsData);}catch(error){console.error('Error loading organization data:',error);showNotification('Failed to load organization data','error');}finally{setLoading(false);}};const buildHierarchy=()=>{const employeeMap=new Map();const rootEmployees=[];let ceoEmployee=null;// Create map of employees\nemployees.forEach(emp=>{employeeMap.set(emp.id,_objectSpread(_objectSpread({},emp),{},{children:[]}));});// First pass: Identify the CEO\nemployees.forEach(emp=>{const position=emp.position?emp.position.toLowerCase():'';if(position.includes('ceo')||position.includes('chief executive officer')||position.includes('president')||emp.name==='Harpreet Singh'){ceoEmployee=employeeMap.get(emp.id);}});// Second pass: Build hierarchy\nemployees.forEach(emp=>{// Convert manager to number if it's a string\nconst managerId=emp.manager?parseInt(emp.manager):null;if(managerId&&employeeMap.has(managerId)){const manager=employeeMap.get(managerId);if(manager){manager.children.push(employeeMap.get(emp.id));}}else{var _ceoEmployee;// If this employee has no manager and is not the CEO\nif(emp.id!==((_ceoEmployee=ceoEmployee)===null||_ceoEmployee===void 0?void 0:_ceoEmployee.id)){// Check if this is an executive position that should report to CEO\nconst position=emp.position?emp.position.toLowerCase():'';if(position.includes('chro')||position.includes('cfo')||position.includes('cto')||position.includes('vp')||position.includes('vice president')||position.includes('chief')||position.includes('director')){// Make this executive report to CEO\nif(ceoEmployee){ceoEmployee.children.push(employeeMap.get(emp.id));}else{rootEmployees.push(employeeMap.get(emp.id));}}else{rootEmployees.push(employeeMap.get(emp.id));}}}});// Ensure CEO is at the top\nif(ceoEmployee){return[ceoEmployee];}return rootEmployees;};const filteredEmployees=employees.filter(emp=>{const matchesSearch=emp.name.toLowerCase().includes(searchTerm.toLowerCase())||emp.email.toLowerCase().includes(searchTerm.toLowerCase())||emp.position.toLowerCase().includes(searchTerm.toLowerCase())||emp.employeeId.toLowerCase().includes(searchTerm.toLowerCase());const matchesDepartment=departmentFilter==='all'||emp.department===departmentFilter;return matchesSearch&&matchesDepartment;});const toggleNode=nodeId=>{const newExpanded=new Set(expandedNodes);if(newExpanded.has(nodeId)){newExpanded.delete(nodeId);}else{newExpanded.add(nodeId);}setExpandedNodes(newExpanded);};const handleAddEmployee=async()=>{try{setLoading(true);const response=await apiCall('/api/admin/employees',{method:'POST',body:JSON.stringify(employeeForm)});if(response.success){showNotification('Employee added successfully','success');setShowAddEmployee(false);resetEmployeeForm();loadOrganizationData();// Reload data\n}else{showNotification(response.message||'Failed to add employee','error');}}catch(error){console.error('Error adding employee:',error);showNotification('Failed to add employee','error');}finally{setLoading(false);}};const handleEditEmployee=async()=>{try{setLoading(true);const response=await apiCall(\"/api/admin/employees/\".concat(editingEmployee.id),{method:'PUT',body:JSON.stringify(employeeForm)});if(response.success){showNotification('Employee updated successfully','success');setEditingEmployee(null);resetEmployeeForm();loadOrganizationData();// Reload data\n}else{showNotification(response.message||'Failed to update employee','error');}}catch(error){console.error('Error updating employee:',error);showNotification('Failed to update employee','error');}finally{setLoading(false);}};const handleDeleteEmployee=async employeeId=>{if(!window.confirm('Are you sure you want to delete this employee?'))return;try{setLoading(true);const response=await apiCall(\"/api/admin/employees/\".concat(employeeId),{method:'DELETE'});if(response.success){showNotification('Employee deleted successfully','success');loadOrganizationData();// Reload data\n}else{showNotification(response.message||'Failed to delete employee','error');}}catch(error){console.error('Error deleting employee:',error);showNotification('Failed to delete employee','error');}finally{setLoading(false);}};const handleAddDepartment=async()=>{try{setLoading(true);// In real app, this would call API\nconst newDepartment=_objectSpread(_objectSpread({id:departments.length+1},departmentForm),{},{employeeCount:0});setDepartments(prev=>[...prev,newDepartment]);setShowAddDepartment(false);resetDepartmentForm();showNotification('Department added successfully','success');}catch(error){showNotification('Failed to add department','error');}finally{setLoading(false);}};const handleAddManager=async()=>{try{setLoading(true);const response=await apiCall('/api/admin/employees',{method:'POST',body:JSON.stringify(managerForm)});if(response.success){showNotification('Manager added successfully','success');setShowManagerForm(false);setIsCreatingManager(false);resetManagerForm();loadOrganizationData();// Reload data\n// Update the employee form to select the new manager\n// We'll need to get the new manager's ID from the response or reload\nsetTimeout(()=>{loadOrganizationData();},1000);}else{showNotification(response.message||'Failed to add manager','error');}}catch(error){console.error('Error adding manager:',error);showNotification('Failed to add manager','error');}finally{setLoading(false);}};const resetEmployeeForm=()=>{setEmployeeForm({name:'',email:'',phone:'',position:'',department:'',manager:'',employeeId:'',hireDate:'',salary:'',address:'',emergencyContact:'',skills:[],status:'active'});};const resetDepartmentForm=()=>{setDepartmentForm({name:'',description:'',head:'',budget:'',location:'',establishedDate:''});};const resetManagerForm=()=>{setManagerForm({name:'',email:'',phone:'',position:'',department:'',manager:'',employeeId:'',hireDate:'',salary:'',address:'',emergencyContact:'',skills:[],status:'active'});};const openEditEmployee=employee=>{setEmployeeForm(employee);setEditingEmployee(employee);};const openEditDepartment=department=>{setDepartmentForm(department);setEditingDepartment(department);};const handleManagerSelection=value=>{if(value==='add_new_manager'){setIsCreatingManager(true);setShowManagerForm(true);}else{setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{manager:value}));}};const openEmployeeDetail=employee=>{setSelectedEmployee(employee);setShowEmployeeDetail(true);};const closeEmployeeDetail=()=>{setSelectedEmployee(null);setShowEmployeeDetail(false);};const getNodeClass=employee=>{const position=employee.position?employee.position.toLowerCase():'';if(position.includes('ceo')||position.includes('chief executive officer')||position.includes('president')||employee.name==='Harpreet Singh'){return'ceo-node';}else if(position.includes('vp')||position.includes('vice president')||position.includes('chro')||position.includes('cfo')||position.includes('cto')||position.includes('chief')){return'vp-node';}else if(position.includes('director')||position.includes('head')){return'director-node';}else{return'employee-node';}};const renderOrgChart=()=>{const hierarchy=buildHierarchy();const renderEmployeeNode=function(employee){let level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const hasReports=employee.children&&employee.children.length>0;const isExpanded=expandedNodes.has(employee.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"org-level\",style:{marginTop:level===0?'0':'40px'},children:[level===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"Chief Executive Officer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-1 bg-gradient-to-r from-red-500 to-red-600 mx-auto rounded-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-node \".concat(getNodeClass(employee)),onClick:()=>openEmployeeDetail(employee),children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-avatar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"avatar-text\",children:employee.avatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-name\",children:employee.name}),/*#__PURE__*/_jsx(\"div\",{className:\"node-position\",children:employee.position}),/*#__PURE__*/_jsx(\"div\",{className:\"node-department\",children:employee.department})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openEditEmployee(employee);},children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDeleteEmployee(employee.id);},children:/*#__PURE__*/_jsx(Trash2,{size:14})})]}),hasReports&&/*#__PURE__*/_jsx(\"div\",{className:\"expand-button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"expand-btn\",onClick:e=>{e.stopPropagation();toggleNode(employee.id);},title:isExpanded?\"Collapse\":\"Expand\",children:isExpanded?/*#__PURE__*/_jsx(ChevronDown,{size:16}):/*#__PURE__*/_jsx(ChevronRight,{size:16})})})]}),hasReports&&isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"direct-reports\",children:level===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"vp-level\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700 mb-2\",children:\"Executive Leadership\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-1 bg-gradient-to-r from-blue-500 to-blue-600 mx-auto rounded-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"vp-container\",children:employee.children.map(vp=>/*#__PURE__*/_jsxs(\"div\",{className:\"vp-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"org-node \".concat(getNodeClass(vp)),onClick:()=>openEmployeeDetail(vp),children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-avatar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"avatar-text\",children:vp.avatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-name\",children:vp.name}),/*#__PURE__*/_jsx(\"div\",{className:\"node-position\",children:vp.position}),/*#__PURE__*/_jsx(\"div\",{className:\"node-department\",children:vp.department})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openEditEmployee(vp);},children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDeleteEmployee(vp.id);},children:/*#__PURE__*/_jsx(Trash2,{size:14})})]}),vp.children&&vp.children.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"expand-button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"expand-btn\",onClick:e=>{e.stopPropagation();toggleNode(vp.id);},title:expandedNodes.has(vp.id)?\"Collapse\":\"Expand\",children:expandedNodes.has(vp.id)?/*#__PURE__*/_jsx(ChevronDown,{size:16}):/*#__PURE__*/_jsx(ChevronRight,{size:16})})})]}),vp.children&&vp.children.length>0&&expandedNodes.has(vp.id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"directors-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level-header\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-600 mb-2\",children:\"Team Members\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-1 bg-gradient-to-r from-purple-500 to-purple-600 mx-auto rounded-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"directors-list\",children:vp.children.map(director=>/*#__PURE__*/_jsxs(\"div\",{className:\"director-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"org-node \".concat(getNodeClass(director)),onClick:()=>openEmployeeDetail(director),children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-avatar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"avatar-text\",children:director.avatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-name\",children:director.name}),/*#__PURE__*/_jsx(\"div\",{className:\"node-position\",children:director.position}),/*#__PURE__*/_jsx(\"div\",{className:\"node-department\",children:director.department})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openEditEmployee(director);},children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDeleteEmployee(director.id);},children:/*#__PURE__*/_jsx(Trash2,{size:14})})]}),director.children&&director.children.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"expand-button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"expand-btn\",onClick:e=>{e.stopPropagation();toggleNode(director.id);},title:expandedNodes.has(director.id)?\"Collapse\":\"Expand\",children:expandedNodes.has(director.id)?/*#__PURE__*/_jsx(ChevronDown,{size:16}):/*#__PURE__*/_jsx(ChevronRight,{size:16})})})]}),director.children&&director.children.length>0&&expandedNodes.has(director.id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"team-members-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-md font-medium text-gray-500 mb-2\",children:\"Team Members\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-1 bg-gradient-to-r from-green-500 to-green-600 mx-auto rounded-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"team-members-list\",children:director.children.map(teamMember=>/*#__PURE__*/_jsx(\"div\",{className:\"team-member-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"org-node \".concat(getNodeClass(teamMember)),onClick:()=>openEmployeeDetail(teamMember),children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-avatar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"avatar-text\",children:teamMember.avatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-name\",children:teamMember.name}),/*#__PURE__*/_jsx(\"div\",{className:\"node-position\",children:teamMember.position}),/*#__PURE__*/_jsx(\"div\",{className:\"node-department\",children:teamMember.department})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openEditEmployee(teamMember);},children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDeleteEmployee(teamMember.id);},children:/*#__PURE__*/_jsx(Trash2,{size:14})})]}),teamMember.children&&teamMember.children.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"expand-button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"expand-btn\",onClick:e=>{e.stopPropagation();toggleNode(teamMember.id);},title:expandedNodes.has(teamMember.id)?\"Collapse\":\"Expand\",children:expandedNodes.has(teamMember.id)?/*#__PURE__*/_jsx(ChevronDown,{size:16}):/*#__PURE__*/_jsx(ChevronRight,{size:16})})})]})},teamMember.id))})]})]},director.id))})]})]},vp.id))})]})})]},employee.id);};return/*#__PURE__*/_jsx(\"div\",{className:\"org-chart-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"org-chart\",children:hierarchy.map(ceo=>renderEmployeeNode(ceo,0))})});};const renderTreeNode=function(node){let level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const isExpanded=expandedNodes.has(node.id);const hasChildren=node.children&&node.children.length>0;return/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer\",onClick:()=>openEmployeeDetail(node),children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();hasChildren&&toggleNode(node.id);},className:\"w-6 h-6 flex items-center justify-center\",children:hasChildren?isExpanded?/*#__PURE__*/_jsx(ChevronDown,{size:16}):/*#__PURE__*/_jsx(ChevronRight,{size:16}):/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold text-sm\",children:node.avatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:node.name}),node.position==='CEO'&&/*#__PURE__*/_jsx(Crown,{size:16,className:\"text-yellow-500\"}),node.position.includes('Manager')&&/*#__PURE__*/_jsx(Shield,{size:16,className:\"text-blue-500\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[node.position,\" \\u2022 \",node.department]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:node.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:node.employeeId}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();openEditEmployee(node);},className:\"p-1 text-blue-600 hover:bg-blue-50 rounded\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteEmployee(node.id);},className:\"p-1 text-red-600 hover:bg-red-50 rounded\",title:\"Delete\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]})]}),isExpanded&&hasChildren&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-6\",children:node.children.map(child=>renderTreeNode(child,level+1))})]},node.id);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Organization Structure\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Manage employees and departments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddDepartment(true),className:\"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(Building,{size:16}),\"Add Department\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddEmployee(true),className:\"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\",children:[/*#__PURE__*/_jsx(UserPlus,{size:16}),\"Add Employee\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Employees\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:analytics.totalEmployees||employees.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Users,{className:\"text-blue-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Departments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:analytics.departments||departments.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Building,{className:\"text-green-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Active Employees\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:analytics.activeEmployees||employees.filter(e=>e.status==='active').length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"text-purple-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Managers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-amber-600\",children:analytics.managers||employees.filter(e=>e.position&&e.position.toLowerCase().includes('manager')).length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Crown,{className:\"text-amber-600\",size:24})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search employees by name, email, position, or ID...\",className:\"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:departmentFilter,onChange:e=>setDepartmentFilter(e.target.value),className:\"px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Departments\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.name,children:dept.name},dept.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border rounded-lg\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('chart'),className:\"px-4 py-3 \".concat(viewMode==='chart'?'bg-blue-500 text-white':'text-gray-600 hover:bg-gray-50',\" rounded-l-lg transition-colors\"),children:\"Chart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('tree'),className:\"px-4 py-3 \".concat(viewMode==='tree'?'bg-blue-500 text-white':'text-gray-600 hover:bg-gray-50',\" transition-colors\"),children:\"Tree\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('list'),className:\"px-4 py-3 \".concat(viewMode==='list'?'bg-blue-500 text-white':'text-gray-600 hover:bg-gray-50',\" rounded-r-lg transition-colors\"),children:\"List\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:viewMode==='chart'?/*#__PURE__*/_jsx(\"div\",{children:renderOrgChart()},employees.length):viewMode==='tree'?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:buildHierarchy().map(node=>renderTreeNode(node))},employees.length):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:filteredEmployees.map(employee=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50 cursor-pointer\",onClick:()=>openEmployeeDetail(employee),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold\",children:employee.avatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:employee.name}),employee.position==='CEO'&&/*#__PURE__*/_jsx(Crown,{size:16,className:\"text-yellow-500\"}),employee.position.includes('Manager')&&/*#__PURE__*/_jsx(Shield,{size:16,className:\"text-blue-500\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[employee.position,\" \\u2022 \",employee.department]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[employee.email,\" \\u2022 \",employee.phone]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:employee.employeeId}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"Hired: \",new Date(employee.hireDate).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();openEditEmployee(employee);},className:\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteEmployee(employee.id);},className:\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\",title:\"Delete\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},employee.id))},employees.length)})]}),(showAddEmployee||editingEmployee)&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:editingEmployee?'Edit Employee':'Add New Employee'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddEmployee(false);setEditingEmployee(null);resetEmployeeForm();},className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:\"\\u2715\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-y-auto flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeForm.name,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Enter full name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Employee ID *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeForm.employeeId,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{employeeId:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"EMP001\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:employeeForm.email,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"employee@company.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:employeeForm.phone,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"+91-98765-43210\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Position *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeForm.position,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{position:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Software Engineer\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Department *\"}),/*#__PURE__*/_jsxs(\"select\",{value:employeeForm.department,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{department:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.name,children:dept.name},dept.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Manager\"}),/*#__PURE__*/_jsxs(\"select\",{value:employeeForm.manager,onChange:e=>handleManagerSelection(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No Manager\"}),/*#__PURE__*/_jsx(\"option\",{value:\"add_new_manager\",className:\"text-blue-600 font-semibold\",children:\"+ Add New Manager\"}),employees.map(emp=>/*#__PURE__*/_jsxs(\"option\",{value:emp.id,children:[emp.name,\" - \",emp.position]},emp.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Hire Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:employeeForm.hireDate,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{hireDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Salary\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeForm.salary,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{salary:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"\\u20B98,00,000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Address\"}),/*#__PURE__*/_jsx(\"textarea\",{value:employeeForm.address,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{address:e.target.value})),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Complete address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Emergency Contact\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeForm.emergencyContact,onChange:e=>setEmployeeForm(prev=>_objectSpread(_objectSpread({},prev),{},{emergencyContact:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Contact Name - Phone Number\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-t flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:editingEmployee?handleEditEmployee:handleAddEmployee,className:\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\",children:editingEmployee?'Update Employee':'Add Employee'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddEmployee(false);setEditingEmployee(null);resetEmployeeForm();},className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Cancel\"})]})})]})}),(showAddDepartment||editingDepartment)&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:editingDepartment?'Edit Department':'Add New Department'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddDepartment(false);setEditingDepartment(null);resetDepartmentForm();},className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:\"\\u2715\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-y-auto flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Department Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:departmentForm.name,onChange:e=>setDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Technology\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:departmentForm.description,onChange:e=>setDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Department description\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Department Head\"}),/*#__PURE__*/_jsxs(\"select\",{value:departmentForm.head,onChange:e=>setDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{head:e.target.value||null})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department Head\"}),employees.map(emp=>/*#__PURE__*/_jsxs(\"option\",{value:emp.id,children:[emp.name,\" - \",emp.position]},emp.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Budget\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:departmentForm.budget,onChange:e=>setDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{budget:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"\\u20B930,00,000\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:departmentForm.location,onChange:e=>setDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{location:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Bangalore\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Established Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:departmentForm.establishedDate,onChange:e=>setDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{establishedDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-t flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddDepartment,className:\"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors\",children:editingDepartment?'Update Department':'Add Department'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddDepartment(false);setEditingDepartment(null);resetDepartmentForm();},className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Cancel\"})]})})]})}),showManagerForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Add New Manager\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowManagerForm(false);setIsCreatingManager(false);resetManagerForm();},className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:\"\\u2715\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-y-auto flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Manager Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:managerForm.name,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Enter manager name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Employee ID *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:managerForm.employeeId,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{employeeId:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"MGR001\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:managerForm.email,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"manager@company.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:managerForm.phone,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"+91-98765-43210\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Position *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:managerForm.position,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{position:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Senior Manager\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Department *\"}),/*#__PURE__*/_jsxs(\"select\",{value:managerForm.department,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{department:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.name,children:dept.name},dept.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Reports To\"}),/*#__PURE__*/_jsxs(\"select\",{value:managerForm.manager,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{manager:e.target.value||null})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No Manager\"}),employees.map(emp=>/*#__PURE__*/_jsxs(\"option\",{value:emp.id,children:[emp.name,\" - \",emp.position]},emp.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Hire Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:managerForm.hireDate,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{hireDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Salary\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:managerForm.salary,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{salary:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"\\u20B912,00,000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Address\"}),/*#__PURE__*/_jsx(\"textarea\",{value:managerForm.address,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{address:e.target.value})),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Complete address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Emergency Contact\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:managerForm.emergencyContact,onChange:e=>setManagerForm(prev=>_objectSpread(_objectSpread({},prev),{},{emergencyContact:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\",placeholder:\"Contact Name - Phone Number\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-t flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddManager,className:\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\",children:\"Add Manager\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowManagerForm(false);setIsCreatingManager(false);resetManagerForm();},className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Cancel\"})]})})]})}),showEmployeeDetail&&selectedEmployee&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-xl\",children:selectedEmployee.avatar})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:selectedEmployee.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:selectedEmployee.position}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:selectedEmployee.department})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeEmployeeDetail,className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:\"\\u2715\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto flex-1 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 border-b pb-2\",children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.phone||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Employee ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.employeeId})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 border-b pb-2\",children:\"Work Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Position\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.position})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Department\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.department})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Manager\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.manager?((_employees$find=employees.find(emp=>emp.id===parseInt(selectedEmployee.manager)))===null||_employees$find===void 0?void 0:_employees$find.name)||'Unknown':'No Manager'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Hire Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.hireDate||'Not provided'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 md:col-span-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 border-b pb-2\",children:\"Additional Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Salary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.salary||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(selectedEmployee.status==='active'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:selectedEmployee.status||'active'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.address||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Emergency Contact\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:selectedEmployee.emergencyContact||'Not provided'})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-t flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{closeEmployeeDetail();openEditEmployee(selectedEmployee);},className:\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\",children:\"Edit Employee\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{closeEmployeeDetail();handleDeleteEmployee(selectedEmployee.id);},className:\"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeEmployeeDetail,className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Close\"})]})})]})})]});};export default OrganizationStructureView;","map":{"version":3,"names":["React","useState","useEffect","Users","Plus","Edit","Trash2","Search","Filter","Save","X","UserPlus","Building","Mail","Phone","MapPin","Calendar","ChevronDown","ChevronRight","Crown","Shield","User","MoreHorizontal","Eye","Settings","ArrowUpDown","apiCall","jsx","_jsx","jsxs","_jsxs","OrganizationStructureView","_ref","_employees$find","showNotification","loading","setLoading","employees","setEmployees","departments","setDepartments","analytics","setAnalytics","showAddEmployee","setShowAddEmployee","showAddDepartment","setShowAddDepartment","editingEmployee","setEditingEmployee","editingDepartment","setEditingDepartment","showManagerForm","setShowManagerForm","isCreatingManager","setIsCreatingManager","searchTerm","setSearchTerm","departmentFilter","setDepartmentFilter","expandedNodes","setExpandedNodes","Set","viewMode","setViewMode","showEmployeeDetail","setShowEmployeeDetail","selectedEmployee","setSelectedEmployee","employeeForm","setEmployeeForm","name","email","phone","position","department","manager","employeeId","hireDate","salary","address","emergencyContact","skills","status","departmentForm","setDepartmentForm","description","head","budget","location","establishedDate","managerForm","setManagerForm","loadOrganizationData","length","ceo","find","emp","toLowerCase","includes","prev","id","employeesData","departmentsData","statsData","Promise","all","error","console","buildHierarchy","employeeMap","Map","rootEmployees","ceoEmployee","forEach","set","_objectSpread","children","get","managerId","parseInt","has","push","_ceoEmployee","filteredEmployees","filter","matchesSearch","matchesDepartment","toggleNode","nodeId","newExpanded","delete","add","handleAddEmployee","response","method","body","JSON","stringify","success","resetEmployeeForm","message","handleEditEmployee","concat","handleDeleteEmployee","window","confirm","handleAddDepartment","newDepartment","employeeCount","resetDepartmentForm","handleAddManager","resetManagerForm","setTimeout","openEditEmployee","employee","openEditDepartment","handleManagerSelection","value","openEmployeeDetail","closeEmployeeDetail","getNodeClass","renderOrgChart","hierarchy","renderEmployeeNode","level","arguments","undefined","hasReports","isExpanded","className","style","marginTop","onClick","avatar","e","stopPropagation","size","title","map","vp","director","teamMember","renderTreeNode","node","hasChildren","child","totalEmployees","activeEmployees","managers","type","onChange","target","placeholder","dept","Date","toLocaleDateString","rows"],"sources":["C:/Users/YSXP/Desktop/New folder/frontend/src/components/OrganizationStructureView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Users, Plus, Edit, Trash2, Search, Filter, Save, X, \r\n  UserPlus, Building, Mail, Phone, MapPin, Calendar,\r\n  ChevronDown, ChevronRight, Crown, Shield, User, \r\n  MoreHorizontal, Eye, Settings, ArrowUpDown\r\n} from 'lucide-react';\r\nimport { apiCall } from '../utils/api';\r\nimport './OrganizationChart.css';\r\n\r\nconst OrganizationStructureView = ({ showNotification }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [departments, setDepartments] = useState([]);\r\n  const [analytics, setAnalytics] = useState({});\r\n  const [showAddEmployee, setShowAddEmployee] = useState(false);\r\n  const [showAddDepartment, setShowAddDepartment] = useState(false);\r\n  const [editingEmployee, setEditingEmployee] = useState(null);\r\n  const [editingDepartment, setEditingDepartment] = useState(null);\r\n  const [showManagerForm, setShowManagerForm] = useState(false);\r\n  const [isCreatingManager, setIsCreatingManager] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [departmentFilter, setDepartmentFilter] = useState('all');\r\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\r\n  const [viewMode, setViewMode] = useState('chart'); // tree, list, chart\r\n  const [showEmployeeDetail, setShowEmployeeDetail] = useState(false);\r\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\r\n\r\n  // Form states\r\n  const [employeeForm, setEmployeeForm] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    position: '',\r\n    department: '',\r\n    manager: '',\r\n    employeeId: '',\r\n    hireDate: '',\r\n    salary: '',\r\n    address: '',\r\n    emergencyContact: '',\r\n    skills: [],\r\n    status: 'active'\r\n  });\r\n\r\n  const [departmentForm, setDepartmentForm] = useState({\r\n    name: '',\r\n    description: '',\r\n    head: '',\r\n    budget: '',\r\n    location: '',\r\n    establishedDate: ''\r\n  });\r\n\r\n  const [managerForm, setManagerForm] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    position: '',\r\n    department: '',\r\n    manager: '',\r\n    employeeId: '',\r\n    hireDate: '',\r\n    salary: '',\r\n    address: '',\r\n    emergencyContact: '',\r\n    skills: [],\r\n    status: 'active'\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadOrganizationData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Auto-expand CEO by default when employees are loaded\r\n    if (employees.length > 0) {\r\n      const ceo = employees.find(emp => \r\n        emp.position && (\r\n          emp.position.toLowerCase().includes('ceo') || \r\n          emp.position.toLowerCase().includes('chief executive officer') || \r\n          emp.position.toLowerCase().includes('president') || \r\n          emp.name === 'Harpreet Singh'\r\n        )\r\n      );\r\n      if (ceo) {\r\n        setExpandedNodes(prev => new Set([...prev, ceo.id]));\r\n      }\r\n    }\r\n  }, [employees]);\r\n\r\n  const loadOrganizationData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Fetch real data from API\r\n      const [employeesData, departmentsData, statsData] = await Promise.all([\r\n        apiCall('/api/admin/employees'),\r\n        apiCall('/api/admin/departments'),\r\n        apiCall('/api/admin/organization-stats')\r\n      ]);\r\n      \r\n      setEmployees(employeesData);\r\n      setDepartments(departmentsData);\r\n      \r\n      // Update analytics with real data\r\n      setAnalytics(statsData);\r\n      \r\n    } catch (error) {\r\n      console.error('Error loading organization data:', error);\r\n      showNotification('Failed to load organization data', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const buildHierarchy = () => {\r\n    const employeeMap = new Map();\r\n    const rootEmployees = [];\r\n    let ceoEmployee = null;\r\n\r\n    // Create map of employees\r\n    employees.forEach(emp => {\r\n      employeeMap.set(emp.id, { ...emp, children: [] });\r\n    });\r\n\r\n    // First pass: Identify the CEO\r\n    employees.forEach(emp => {\r\n      const position = emp.position ? emp.position.toLowerCase() : '';\r\n      if (position.includes('ceo') || position.includes('chief executive officer') || \r\n          position.includes('president') || emp.name === 'Harpreet Singh') {\r\n        ceoEmployee = employeeMap.get(emp.id);\r\n      }\r\n    });\r\n\r\n    // Second pass: Build hierarchy\r\n    employees.forEach(emp => {\r\n      // Convert manager to number if it's a string\r\n      const managerId = emp.manager ? parseInt(emp.manager) : null;\r\n      \r\n      if (managerId && employeeMap.has(managerId)) {\r\n        const manager = employeeMap.get(managerId);\r\n        if (manager) {\r\n          manager.children.push(employeeMap.get(emp.id));\r\n        }\r\n      } else {\r\n        // If this employee has no manager and is not the CEO\r\n        if (emp.id !== ceoEmployee?.id) {\r\n          // Check if this is an executive position that should report to CEO\r\n          const position = emp.position ? emp.position.toLowerCase() : '';\r\n          if (position.includes('chro') || position.includes('cfo') || position.includes('cto') || \r\n              position.includes('vp') || position.includes('vice president') || \r\n              position.includes('chief') || position.includes('director')) {\r\n            // Make this executive report to CEO\r\n            if (ceoEmployee) {\r\n              ceoEmployee.children.push(employeeMap.get(emp.id));\r\n            } else {\r\n              rootEmployees.push(employeeMap.get(emp.id));\r\n            }\r\n          } else {\r\n            rootEmployees.push(employeeMap.get(emp.id));\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Ensure CEO is at the top\r\n    if (ceoEmployee) {\r\n      return [ceoEmployee];\r\n    }\r\n\r\n    return rootEmployees;\r\n  };\r\n\r\n  const filteredEmployees = employees.filter(emp => {\r\n    const matchesSearch = \r\n      emp.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      emp.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      emp.position.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      emp.employeeId.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesDepartment = departmentFilter === 'all' || emp.department === departmentFilter;\r\n    \r\n    return matchesSearch && matchesDepartment;\r\n  });\r\n\r\n  const toggleNode = (nodeId) => {\r\n    const newExpanded = new Set(expandedNodes);\r\n    if (newExpanded.has(nodeId)) {\r\n      newExpanded.delete(nodeId);\r\n    } else {\r\n      newExpanded.add(nodeId);\r\n    }\r\n    setExpandedNodes(newExpanded);\r\n  };\r\n\r\n  const handleAddEmployee = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await apiCall('/api/admin/employees', {\r\n        method: 'POST',\r\n        body: JSON.stringify(employeeForm)\r\n      });\r\n      \r\n      if (response.success) {\r\n        showNotification('Employee added successfully', 'success');\r\n        setShowAddEmployee(false);\r\n        resetEmployeeForm();\r\n        loadOrganizationData(); // Reload data\r\n      } else {\r\n        showNotification(response.message || 'Failed to add employee', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding employee:', error);\r\n      showNotification('Failed to add employee', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditEmployee = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await apiCall(`/api/admin/employees/${editingEmployee.id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(employeeForm)\r\n      });\r\n      \r\n      if (response.success) {\r\n        showNotification('Employee updated successfully', 'success');\r\n        setEditingEmployee(null);\r\n        resetEmployeeForm();\r\n        loadOrganizationData(); // Reload data\r\n      } else {\r\n        showNotification(response.message || 'Failed to update employee', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating employee:', error);\r\n      showNotification('Failed to update employee', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteEmployee = async (employeeId) => {\r\n    if (!window.confirm('Are you sure you want to delete this employee?')) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await apiCall(`/api/admin/employees/${employeeId}`, {\r\n        method: 'DELETE'\r\n      });\r\n      \r\n      if (response.success) {\r\n        showNotification('Employee deleted successfully', 'success');\r\n        loadOrganizationData(); // Reload data\r\n      } else {\r\n        showNotification(response.message || 'Failed to delete employee', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting employee:', error);\r\n      showNotification('Failed to delete employee', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddDepartment = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // In real app, this would call API\r\n      const newDepartment = {\r\n        id: departments.length + 1,\r\n        ...departmentForm,\r\n        employeeCount: 0\r\n      };\r\n      \r\n      setDepartments(prev => [...prev, newDepartment]);\r\n      setShowAddDepartment(false);\r\n      resetDepartmentForm();\r\n      showNotification('Department added successfully', 'success');\r\n    } catch (error) {\r\n      showNotification('Failed to add department', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddManager = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await apiCall('/api/admin/employees', {\r\n        method: 'POST',\r\n        body: JSON.stringify(managerForm)\r\n      });\r\n      \r\n      if (response.success) {\r\n        showNotification('Manager added successfully', 'success');\r\n        setShowManagerForm(false);\r\n        setIsCreatingManager(false);\r\n        resetManagerForm();\r\n        loadOrganizationData(); // Reload data\r\n        \r\n        // Update the employee form to select the new manager\r\n        // We'll need to get the new manager's ID from the response or reload\r\n        setTimeout(() => {\r\n          loadOrganizationData();\r\n        }, 1000);\r\n      } else {\r\n        showNotification(response.message || 'Failed to add manager', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding manager:', error);\r\n      showNotification('Failed to add manager', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetEmployeeForm = () => {\r\n    setEmployeeForm({\r\n      name: '',\r\n      email: '',\r\n      phone: '',\r\n      position: '',\r\n      department: '',\r\n      manager: '',\r\n      employeeId: '',\r\n      hireDate: '',\r\n      salary: '',\r\n      address: '',\r\n      emergencyContact: '',\r\n      skills: [],\r\n      status: 'active'\r\n    });\r\n  };\r\n\r\n  const resetDepartmentForm = () => {\r\n    setDepartmentForm({\r\n      name: '',\r\n      description: '',\r\n      head: '',\r\n      budget: '',\r\n      location: '',\r\n      establishedDate: ''\r\n    });\r\n  };\r\n\r\n  const resetManagerForm = () => {\r\n    setManagerForm({\r\n      name: '',\r\n      email: '',\r\n      phone: '',\r\n      position: '',\r\n      department: '',\r\n      manager: '',\r\n      employeeId: '',\r\n      hireDate: '',\r\n      salary: '',\r\n      address: '',\r\n      emergencyContact: '',\r\n      skills: [],\r\n      status: 'active'\r\n    });\r\n  };\r\n\r\n  const openEditEmployee = (employee) => {\r\n    setEmployeeForm(employee);\r\n    setEditingEmployee(employee);\r\n  };\r\n\r\n  const openEditDepartment = (department) => {\r\n    setDepartmentForm(department);\r\n    setEditingDepartment(department);\r\n  };\r\n\r\n  const handleManagerSelection = (value) => {\r\n    if (value === 'add_new_manager') {\r\n      setIsCreatingManager(true);\r\n      setShowManagerForm(true);\r\n    } else {\r\n      setEmployeeForm(prev => ({ ...prev, manager: value }));\r\n    }\r\n  };\r\n\r\n  const openEmployeeDetail = (employee) => {\r\n    setSelectedEmployee(employee);\r\n    setShowEmployeeDetail(true);\r\n  };\r\n\r\n  const closeEmployeeDetail = () => {\r\n    setSelectedEmployee(null);\r\n    setShowEmployeeDetail(false);\r\n  };\r\n\r\n  const getNodeClass = (employee) => {\r\n    const position = employee.position ? employee.position.toLowerCase() : '';\r\n    \r\n    if (position.includes('ceo') || position.includes('chief executive officer') || \r\n        position.includes('president') || employee.name === 'Harpreet Singh') {\r\n      return 'ceo-node';\r\n    } else if (position.includes('vp') || position.includes('vice president') || \r\n               position.includes('chro') || position.includes('cfo') || \r\n               position.includes('cto') || position.includes('chief')) {\r\n      return 'vp-node';\r\n    } else if (position.includes('director') || position.includes('head')) {\r\n      return 'director-node';\r\n    } else {\r\n      return 'employee-node';\r\n    }\r\n  };\r\n\r\n  const renderOrgChart = () => {\r\n    const hierarchy = buildHierarchy();\r\n    \r\n    const renderEmployeeNode = (employee, level = 0) => {\r\n      const hasReports = employee.children && employee.children.length > 0;\r\n      const isExpanded = expandedNodes.has(employee.id);\r\n      \r\n      return (\r\n        <div key={employee.id} className=\"org-level\" style={{ marginTop: level === 0 ? '0' : '40px' }}>\r\n          {/* Level Header - only show for top level */}\r\n          {level === 0 && (\r\n            <div className=\"text-center mb-8\">\r\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Chief Executive Officer</h2>\r\n              <div className=\"w-24 h-1 bg-gradient-to-r from-red-500 to-red-600 mx-auto rounded-full\"></div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Employee Node */}\r\n          <div className={`org-node ${getNodeClass(employee)}`} onClick={() => openEmployeeDetail(employee)}>\r\n            <div className=\"node-avatar\">\r\n              <span className=\"avatar-text\">{employee.avatar}</span>\r\n            </div>\r\n            <div className=\"node-info\">\r\n              <div className=\"node-name\">{employee.name}</div>\r\n              <div className=\"node-position\">{employee.position}</div>\r\n              <div className=\"node-department\">{employee.department}</div>\r\n            </div>\r\n            <div className=\"node-actions\">\r\n              <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openEditEmployee(employee); }}>\r\n                <Edit size={14} />\r\n              </button>\r\n              <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDeleteEmployee(employee.id); }}>\r\n                <Trash2 size={14} />\r\n              </button>\r\n            </div>\r\n            \r\n            {/* Expand/Collapse Button */}\r\n            {hasReports && (\r\n              <div className=\"expand-button\">\r\n                <button \r\n                  className=\"expand-btn\"\r\n                  onClick={(e) => { \r\n                    e.stopPropagation(); \r\n                    toggleNode(employee.id); \r\n                  }}\r\n                  title={isExpanded ? \"Collapse\" : \"Expand\"}\r\n                >\r\n                  {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Direct Reports (only if expanded) */}\r\n          {hasReports && isExpanded && (\r\n            <div className=\"direct-reports\">\r\n              {/* VP Level - Horizontal Layout */}\r\n              {level === 0 && (\r\n                <div className=\"vp-level\">\r\n                  <div className=\"level-header\">\r\n                    <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">Executive Leadership</h3>\r\n                    <div className=\"w-16 h-1 bg-gradient-to-r from-blue-500 to-blue-600 mx-auto rounded-full\"></div>\r\n                  </div>\r\n                  <div className=\"vp-container\">\r\n                    {employee.children.map(vp => (\r\n                      <div key={vp.id} className=\"vp-column\">\r\n                        <div className={`org-node ${getNodeClass(vp)}`} onClick={() => openEmployeeDetail(vp)}>\r\n                          <div className=\"node-avatar\">\r\n                            <span className=\"avatar-text\">{vp.avatar}</span>\r\n                          </div>\r\n                          <div className=\"node-info\">\r\n                            <div className=\"node-name\">{vp.name}</div>\r\n                            <div className=\"node-position\">{vp.position}</div>\r\n                            <div className=\"node-department\">{vp.department}</div>\r\n                          </div>\r\n                          <div className=\"node-actions\">\r\n                            <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openEditEmployee(vp); }}>\r\n                              <Edit size={14} />\r\n                            </button>\r\n                            <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDeleteEmployee(vp.id); }}>\r\n                              <Trash2 size={14} />\r\n                            </button>\r\n                          </div>\r\n                          \r\n                          {/* Expand/Collapse Button for VP */}\r\n                          {vp.children && vp.children.length > 0 && (\r\n                            <div className=\"expand-button\">\r\n                              <button \r\n                                className=\"expand-btn\"\r\n                                onClick={(e) => { \r\n                                  e.stopPropagation(); \r\n                                  toggleNode(vp.id); \r\n                                }}\r\n                                title={expandedNodes.has(vp.id) ? \"Collapse\" : \"Expand\"}\r\n                              >\r\n                                {expandedNodes.has(vp.id) ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n                              </button>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        {/* Directors under VP - Vertical Layout */}\r\n                        {vp.children && vp.children.length > 0 && expandedNodes.has(vp.id) && (\r\n                          <div className=\"directors-container\">\r\n                            <div className=\"level-header\">\r\n                              <h4 className=\"text-lg font-medium text-gray-600 mb-2\">Team Members</h4>\r\n                              <div className=\"w-12 h-1 bg-gradient-to-r from-purple-500 to-purple-600 mx-auto rounded-full\"></div>\r\n                            </div>\r\n                            <div className=\"directors-list\">\r\n                              {vp.children.map(director => (\r\n                                <div key={director.id} className=\"director-item\">\r\n                                  <div className={`org-node ${getNodeClass(director)}`} onClick={() => openEmployeeDetail(director)}>\r\n                                    <div className=\"node-avatar\">\r\n                                      <span className=\"avatar-text\">{director.avatar}</span>\r\n                                    </div>\r\n                                    <div className=\"node-info\">\r\n                                      <div className=\"node-name\">{director.name}</div>\r\n                                      <div className=\"node-position\">{director.position}</div>\r\n                                      <div className=\"node-department\">{director.department}</div>\r\n                                    </div>\r\n                                    <div className=\"node-actions\">\r\n                                      <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openEditEmployee(director); }}>\r\n                                        <Edit size={14} />\r\n                                      </button>\r\n                                      <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDeleteEmployee(director.id); }}>\r\n                                        <Trash2 size={14} />\r\n                                      </button>\r\n                                    </div>\r\n                                    \r\n                                    {/* Expand/Collapse Button for Director */}\r\n                                    {director.children && director.children.length > 0 && (\r\n                                      <div className=\"expand-button\">\r\n                                        <button \r\n                                          className=\"expand-btn\"\r\n                                          onClick={(e) => { \r\n                                            e.stopPropagation(); \r\n                                            toggleNode(director.id); \r\n                                          }}\r\n                                          title={expandedNodes.has(director.id) ? \"Collapse\" : \"Expand\"}\r\n                                        >\r\n                                          {expandedNodes.has(director.id) ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n                                        </button>\r\n                                      </div>\r\n                                    )}\r\n                                  </div>\r\n                                  \r\n                                  {/* Director's Team Members */}\r\n                                  {director.children && director.children.length > 0 && expandedNodes.has(director.id) && (\r\n                                    <div className=\"team-members-container\">\r\n                                      <div className=\"level-header\">\r\n                                        <h5 className=\"text-md font-medium text-gray-500 mb-2\">Team Members</h5>\r\n                                        <div className=\"w-8 h-1 bg-gradient-to-r from-green-500 to-green-600 mx-auto rounded-full\"></div>\r\n                                      </div>\r\n                                      <div className=\"team-members-list\">\r\n                                        {director.children.map(teamMember => (\r\n                                          <div key={teamMember.id} className=\"team-member-item\">\r\n                                            <div className={`org-node ${getNodeClass(teamMember)}`} onClick={() => openEmployeeDetail(teamMember)}>\r\n                                              <div className=\"node-avatar\">\r\n                                                <span className=\"avatar-text\">{teamMember.avatar}</span>\r\n                                              </div>\r\n                                              <div className=\"node-info\">\r\n                                                <div className=\"node-name\">{teamMember.name}</div>\r\n                                                <div className=\"node-position\">{teamMember.position}</div>\r\n                                                <div className=\"node-department\">{teamMember.department}</div>\r\n                                              </div>\r\n                                              <div className=\"node-actions\">\r\n                                                <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openEditEmployee(teamMember); }}>\r\n                                                  <Edit size={14} />\r\n                                                </button>\r\n                                                <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDeleteEmployee(teamMember.id); }}>\r\n                                                  <Trash2 size={14} />\r\n                                                </button>\r\n                                              </div>\r\n                                              \r\n                                              {/* Expand/Collapse Button for Team Member */}\r\n                                              {teamMember.children && teamMember.children.length > 0 && (\r\n                                                <div className=\"expand-button\">\r\n                                                  <button \r\n                                                    className=\"expand-btn\"\r\n                                                    onClick={(e) => { \r\n                                                      e.stopPropagation(); \r\n                                                      toggleNode(teamMember.id); \r\n                                                    }}\r\n                                                    title={expandedNodes.has(teamMember.id) ? \"Collapse\" : \"Expand\"}\r\n                                                  >\r\n                                                    {expandedNodes.has(teamMember.id) ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n                                                  </button>\r\n                                                </div>\r\n                                              )}\r\n                                            </div>\r\n                                          </div>\r\n                                        ))}\r\n                                      </div>\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    };\r\n    \r\n    return (\r\n      <div className=\"org-chart-container\">\r\n        <div className=\"org-chart\">\r\n          {hierarchy.map(ceo => renderEmployeeNode(ceo, 0))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderTreeNode = (node, level = 0) => {\r\n    const isExpanded = expandedNodes.has(node.id);\r\n    const hasChildren = node.children && node.children.length > 0;\r\n\r\n    return (\r\n      <div key={node.id} className=\"ml-4\">\r\n        <div className=\"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer\" onClick={() => openEmployeeDetail(node)}>\r\n          <button\r\n            onClick={(e) => { e.stopPropagation(); hasChildren && toggleNode(node.id); }}\r\n            className=\"w-6 h-6 flex items-center justify-center\"\r\n          >\r\n            {hasChildren ? (\r\n              isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />\r\n            ) : (\r\n              <div className=\"w-4 h-4\" />\r\n            )}\r\n          </button>\r\n\r\n          <div className=\"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center\">\r\n            <span className=\"text-white font-semibold text-sm\">{node.avatar}</span>\r\n          </div>\r\n\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <h3 className=\"font-medium text-gray-900\">{node.name}</h3>\r\n              {node.position === 'CEO' && <Crown size={16} className=\"text-yellow-500\" />}\r\n              {node.position.includes('Manager') && <Shield size={16} className=\"text-blue-500\" />}\r\n            </div>\r\n            <p className=\"text-sm text-gray-600\">{node.position} • {node.department}</p>\r\n            <p className=\"text-xs text-gray-500\">{node.email}</p>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-sm text-gray-600\">{node.employeeId}</span>\r\n            <div className=\"flex gap-1\">\r\n              <button\r\n                onClick={(e) => { e.stopPropagation(); openEditEmployee(node); }}\r\n                className=\"p-1 text-blue-600 hover:bg-blue-50 rounded\"\r\n                title=\"Edit\"\r\n              >\r\n                <Edit size={14} />\r\n              </button>\r\n              <button\r\n                onClick={(e) => { e.stopPropagation(); handleDeleteEmployee(node.id); }}\r\n                className=\"p-1 text-red-600 hover:bg-red-50 rounded\"\r\n                title=\"Delete\"\r\n              >\r\n                <Trash2 size={14} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {isExpanded && hasChildren && (\r\n          <div className=\"ml-6\">\r\n            {node.children.map(child => renderTreeNode(child, level + 1))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Organization Structure</h2>\r\n          <p className=\"text-gray-600 mt-1\">Manage employees and departments</p>\r\n        </div>\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={() => setShowAddDepartment(true)}\r\n            className=\"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <Building size={16} />\r\n            Add Department\r\n          </button>\r\n          <button\r\n            onClick={() => setShowAddEmployee(true)}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\r\n          >\r\n            <UserPlus size={16} />\r\n            Add Employee\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <div className=\"bg-white rounded-xl shadow-sm border p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Employees</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{analytics.totalEmployees || employees.length}</p>\r\n            </div>\r\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <Users className=\"text-blue-600\" size={24} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Departments</p>\r\n              <p className=\"text-2xl font-bold text-green-600\">{analytics.departments || departments.length}</p>\r\n            </div>\r\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <Building className=\"text-green-600\" size={24} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Active Employees</p>\r\n              <p className=\"text-2xl font-bold text-purple-600\">{analytics.activeEmployees || employees.filter(e => e.status === 'active').length}</p>\r\n            </div>\r\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <User className=\"text-purple-600\" size={24} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Managers</p>\r\n              <p className=\"text-2xl font-bold text-amber-600\">{analytics.managers || employees.filter(e => e.position && e.position.toLowerCase().includes('manager')).length}</p>\r\n            </div>\r\n            <div className=\"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center\">\r\n              <Crown className=\"text-amber-600\" size={24} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <div className=\"bg-white rounded-xl shadow-sm border\">\r\n        <div className=\"p-6 border-b\">\r\n          <div className=\"flex flex-col lg:flex-row gap-4\">\r\n            <div className=\"flex-1 relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n              <input\r\n                type=\"text\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                placeholder=\"Search employees by name, email, position, or ID...\"\r\n                className=\"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500\"\r\n              />\r\n            </div>\r\n            <div className=\"flex gap-3\">\r\n              <select\r\n                value={departmentFilter}\r\n                onChange={(e) => setDepartmentFilter(e.target.value)}\r\n                className=\"px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500\"\r\n              >\r\n                <option value=\"all\">All Departments</option>\r\n                {departments.map(dept => (\r\n                  <option key={dept.id} value={dept.name}>{dept.name}</option>\r\n                ))}\r\n              </select>\r\n              <div className=\"flex border rounded-lg\">\r\n                <button\r\n                  onClick={() => setViewMode('chart')}\r\n                  className={`px-4 py-3 ${viewMode === 'chart' ? 'bg-blue-500 text-white' : 'text-gray-600 hover:bg-gray-50'} rounded-l-lg transition-colors`}\r\n                >\r\n                  Chart\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode('tree')}\r\n                  className={`px-4 py-3 ${viewMode === 'tree' ? 'bg-blue-500 text-white' : 'text-gray-600 hover:bg-gray-50'} transition-colors`}\r\n                >\r\n                  Tree\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode('list')}\r\n                  className={`px-4 py-3 ${viewMode === 'list' ? 'bg-blue-500 text-white' : 'text-gray-600 hover:bg-gray-50'} rounded-r-lg transition-colors`}\r\n                >\r\n                  List\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Organization Tree/List/Chart */}\r\n        <div className=\"p-6\">\r\n          {viewMode === 'chart' ? (\r\n            <div key={employees.length}>\r\n              {renderOrgChart()}\r\n            </div>\r\n          ) : viewMode === 'tree' ? (\r\n            <div className=\"space-y-2\" key={employees.length}>\r\n              {buildHierarchy().map(node => renderTreeNode(node))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-3\" key={employees.length}>\r\n              {filteredEmployees.map(employee => (\r\n                <div key={employee.id} className=\"flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50 cursor-pointer\" onClick={() => openEmployeeDetail(employee)}>\r\n                  <div className=\"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center\">\r\n                    <span className=\"text-white font-semibold\">{employee.avatar}</span>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <h3 className=\"font-medium text-gray-900\">{employee.name}</h3>\r\n                      {employee.position === 'CEO' && <Crown size={16} className=\"text-yellow-500\" />}\r\n                      {employee.position.includes('Manager') && <Shield size={16} className=\"text-blue-500\" />}\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600\">{employee.position} • {employee.department}</p>\r\n                    <p className=\"text-xs text-gray-500\">{employee.email} • {employee.phone}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-sm font-medium text-gray-900\">{employee.employeeId}</p>\r\n                    <p className=\"text-xs text-gray-500\">Hired: {new Date(employee.hireDate).toLocaleDateString()}</p>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={(e) => { e.stopPropagation(); openEditEmployee(employee); }}\r\n                      className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                      title=\"Edit\"\r\n                    >\r\n                      <Edit size={16} />\r\n                    </button>\r\n                    <button\r\n                      onClick={(e) => { e.stopPropagation(); handleDeleteEmployee(employee.id); }}\r\n                      className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <Trash2 size={16} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add/Edit Employee Modal */}\r\n      {(showAddEmployee || editingEmployee) && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n            <div className=\"p-6 border-b flex-shrink-0\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-xl font-bold\">\r\n                  {editingEmployee ? 'Edit Employee' : 'Add New Employee'}\r\n                </h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowAddEmployee(false);\r\n                    setEditingEmployee(null);\r\n                    resetEmployeeForm();\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6 overflow-y-auto flex-1\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Full Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={employeeForm.name}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, name: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Enter full name\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Employee ID *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={employeeForm.employeeId}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, employeeId: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"EMP001\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email *</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={employeeForm.email}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, email: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"employee@company.com\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone *</label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={employeeForm.phone}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, phone: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"+91-98765-43210\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Position *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={employeeForm.position}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, position: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Software Engineer\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Department *</label>\r\n                  <select\r\n                    value={employeeForm.department}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, department: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">Select Department</option>\r\n                    {departments.map(dept => (\r\n                      <option key={dept.id} value={dept.name}>{dept.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Manager</label>\r\n                  <select\r\n                    value={employeeForm.manager}\r\n                    onChange={(e) => handleManagerSelection(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">No Manager</option>\r\n                    <option value=\"add_new_manager\" className=\"text-blue-600 font-semibold\">+ Add New Manager</option>\r\n                    {employees.map(emp => (\r\n                      <option key={emp.id} value={emp.id}>{emp.name} - {emp.position}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Hire Date *</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={employeeForm.hireDate}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, hireDate: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Salary</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={employeeForm.salary}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, salary: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"₹8,00,000\"\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Address</label>\r\n                  <textarea\r\n                    value={employeeForm.address}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, address: e.target.value }))}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Complete address\"\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Emergency Contact</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={employeeForm.emergencyContact}\r\n                    onChange={(e) => setEmployeeForm(prev => ({ ...prev, emergencyContact: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Contact Name - Phone Number\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t flex-shrink-0\">\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={editingEmployee ? handleEditEmployee : handleAddEmployee}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\r\n                >\r\n                  {editingEmployee ? 'Update Employee' : 'Add Employee'}\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowAddEmployee(false);\r\n                    setEditingEmployee(null);\r\n                    resetEmployeeForm();\r\n                  }}\r\n                  className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add/Edit Department Modal */}\r\n      {(showAddDepartment || editingDepartment) && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n            <div className=\"p-6 border-b flex-shrink-0\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-xl font-bold\">\r\n                  {editingDepartment ? 'Edit Department' : 'Add New Department'}\r\n                </h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowAddDepartment(false);\r\n                    setEditingDepartment(null);\r\n                    resetDepartmentForm();\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6 overflow-y-auto flex-1\">\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Department Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={departmentForm.name}\r\n                    onChange={(e) => setDepartmentForm(prev => ({ ...prev, name: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Technology\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n                  <textarea\r\n                    value={departmentForm.description}\r\n                    onChange={(e) => setDepartmentForm(prev => ({ ...prev, description: e.target.value }))}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Department description\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Department Head</label>\r\n                  <select\r\n                    value={departmentForm.head}\r\n                    onChange={(e) => setDepartmentForm(prev => ({ ...prev, head: e.target.value || null }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">Select Department Head</option>\r\n                    {employees.map(emp => (\r\n                      <option key={emp.id} value={emp.id}>{emp.name} - {emp.position}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Budget</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={departmentForm.budget}\r\n                      onChange={(e) => setDepartmentForm(prev => ({ ...prev, budget: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                      placeholder=\"₹30,00,000\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={departmentForm.location}\r\n                      onChange={(e) => setDepartmentForm(prev => ({ ...prev, location: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                      placeholder=\"Bangalore\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Established Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={departmentForm.establishedDate}\r\n                    onChange={(e) => setDepartmentForm(prev => ({ ...prev, establishedDate: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t flex-shrink-0\">\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={handleAddDepartment}\r\n                  className=\"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors\"\r\n                >\r\n                  {editingDepartment ? 'Update Department' : 'Add Department'}\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowAddDepartment(false);\r\n                    setEditingDepartment(null);\r\n                    resetDepartmentForm();\r\n                  }}\r\n                  className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Manager Modal */}\r\n      {showManagerForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n            <div className=\"p-6 border-b flex-shrink-0\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-xl font-bold\">Add New Manager</h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowManagerForm(false);\r\n                    setIsCreatingManager(false);\r\n                    resetManagerForm();\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6 overflow-y-auto flex-1\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Manager Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={managerForm.name}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, name: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Enter manager name\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Employee ID *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={managerForm.employeeId}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, employeeId: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"MGR001\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email *</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={managerForm.email}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, email: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"manager@company.com\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone *</label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={managerForm.phone}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, phone: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"+91-98765-43210\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Position *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={managerForm.position}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, position: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Senior Manager\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Department *</label>\r\n                  <select\r\n                    value={managerForm.department}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, department: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">Select Department</option>\r\n                    {departments.map(dept => (\r\n                      <option key={dept.id} value={dept.name}>{dept.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Reports To</label>\r\n                  <select\r\n                    value={managerForm.manager}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, manager: e.target.value || null }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">No Manager</option>\r\n                    {employees.map(emp => (\r\n                      <option key={emp.id} value={emp.id}>{emp.name} - {emp.position}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Hire Date *</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={managerForm.hireDate}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, hireDate: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Salary</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={managerForm.salary}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, salary: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"₹12,00,000\"\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Address</label>\r\n                  <textarea\r\n                    value={managerForm.address}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, address: e.target.value }))}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Complete address\"\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Emergency Contact</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={managerForm.emergencyContact}\r\n                    onChange={(e) => setManagerForm(prev => ({ ...prev, emergencyContact: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\r\n                    placeholder=\"Contact Name - Phone Number\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t flex-shrink-0\">\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={handleAddManager}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\r\n                >\r\n                  Add Manager\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowManagerForm(false);\r\n                    setIsCreatingManager(false);\r\n                    resetManagerForm();\r\n                  }}\r\n                  className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Employee Detail Modal */}\r\n      {showEmployeeDetail && selectedEmployee && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n            {/* Header */}\r\n            <div className=\"p-6 border-b flex-shrink-0\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center\">\r\n                    <span className=\"text-white font-bold text-xl\">{selectedEmployee.avatar}</span>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-xl font-bold text-gray-900\">{selectedEmployee.name}</h3>\r\n                    <p className=\"text-gray-600\">{selectedEmployee.position}</p>\r\n                    <p className=\"text-sm text-gray-500\">{selectedEmployee.department}</p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={closeEmployeeDetail}\r\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"overflow-y-auto flex-1 p-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* Personal Information */}\r\n                <div className=\"space-y-4\">\r\n                  <h4 className=\"font-semibold text-gray-900 border-b pb-2\">Personal Information</h4>\r\n                  \r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Full Name</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.name}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Email</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.email}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Phone</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.phone || 'Not provided'}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Employee ID</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.employeeId}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Work Information */}\r\n                <div className=\"space-y-4\">\r\n                  <h4 className=\"font-semibold text-gray-900 border-b pb-2\">Work Information</h4>\r\n                  \r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Position</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.position}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Department</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.department}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Manager</label>\r\n                      <p className=\"text-gray-900\">\r\n                        {selectedEmployee.manager ? \r\n                          employees.find(emp => emp.id === parseInt(selectedEmployee.manager))?.name || 'Unknown' \r\n                          : 'No Manager'\r\n                        }\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Hire Date</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.hireDate || 'Not provided'}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Additional Information */}\r\n                <div className=\"space-y-4 md:col-span-2\">\r\n                  <h4 className=\"font-semibold text-gray-900 border-b pb-2\">Additional Information</h4>\r\n                  \r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Salary</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.salary || 'Not provided'}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-600\">Status</label>\r\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                        selectedEmployee.status === 'active' \r\n                          ? 'bg-green-100 text-green-800' \r\n                          : 'bg-red-100 text-red-800'\r\n                      }`}>\r\n                        {selectedEmployee.status || 'active'}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <div className=\"md:col-span-2\">\r\n                      <label className=\"text-sm font-medium text-gray-600\">Address</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.address || 'Not provided'}</p>\r\n                    </div>\r\n                    \r\n                    <div className=\"md:col-span-2\">\r\n                      <label className=\"text-sm font-medium text-gray-600\">Emergency Contact</label>\r\n                      <p className=\"text-gray-900\">{selectedEmployee.emergencyContact || 'Not provided'}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"p-6 border-t flex-shrink-0\">\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={() => {\r\n                    closeEmployeeDetail();\r\n                    openEditEmployee(selectedEmployee);\r\n                  }}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\r\n                >\r\n                  Edit Employee\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    closeEmployeeDetail();\r\n                    handleDeleteEmployee(selectedEmployee.id);\r\n                  }}\r\n                  className=\"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors\"\r\n                >\r\n                  Delete\r\n                </button>\r\n                <button\r\n                  onClick={closeEmployeeDetail}\r\n                  className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrganizationStructureView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}